{
  "version": "2.0.0",
  "tasks": [
    // =========================================================================
    // COMPOUND TASK - Run this one to start everything (Ctrl+Cmd+B / Shift+Cmd+B)
    // =========================================================================
    {
      "label": "ğŸš€ Start All Local Services",
      "dependsOn": [
        "1ï¸âƒ£ LocalStack",
        "âš¡ Start Background Services"
      ],
      "dependsOrder": "sequence",
      "problemMatcher": [],
      "group": {
        "kind": "build",
        "isDefault": true
      }
    },
    {
      "label": "âš¡ Start Background Services",
      "dependsOn": [
        "2ï¸âƒ£ Deploy Backend",
        "3ï¸âƒ£ Frontend (Vite)"
      ],
      "dependsOrder": "parallel",
      "problemMatcher": []
    },

    // =========================================================================
    // Individual services - each runs in its own terminal panel
    // =========================================================================
    {
      "label": "1ï¸âƒ£ LocalStack",
      "type": "shell",
      "command": "echo 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•' && echo 'ğŸš€ Starting LocalStack (daemon mode)...' && echo 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•' && /opt/homebrew/bin/localstack start -d && echo 'â³ Waiting for LocalStack to be ready...' && /opt/homebrew/bin/localstack wait -t 60 && echo 'âœ… LocalStack is ready!'",
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "LOCALSTACK_AUTH_TOKEN": "${env:LOCALSTACK_AUTH_TOKEN}"
        }
      },
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "problemMatcher": [],
      "isBackground": false
    },
    {
      "label": "2ï¸âƒ£ Deploy Backend",
      "type": "shell",
      "command": "chmod +x scripts/deploy.sh && ./scripts/deploy.sh",
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "/opt/homebrew/bin:${env:PATH}",
          "AWS_ACCESS_KEY_ID": "test",
          "AWS_SECRET_ACCESS_KEY": "test",
          "AWS_DEFAULT_REGION": "us-east-1"
        }
      },
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "problemMatcher": [],
      "isBackground": true,
      "runOptions": {
        "instanceLimit": 1
      }
    },
    {
      "label": "3ï¸âƒ£ Frontend (Vite)",
      "type": "shell",
      "command": "echo 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•' && echo 'ğŸŒ Starting Frontend at http://localhost:3000' && echo 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•' && npm run dev",
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "problemMatcher": [],
      "isBackground": true,
      "runOptions": {
        "instanceLimit": 1
      }
    },

    // =========================================================================
    // Utility tasks
    // =========================================================================
    {
      "label": "ğŸ›‘ Stop LocalStack",
      "type": "shell",
      "command": "/opt/homebrew/bin/localstack stop",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "ğŸ”„ Redeploy Backend",
      "type": "shell",
      "command": "chmod +x scripts/deploy.sh && ./scripts/deploy.sh",
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "/opt/homebrew/bin:${env:PATH}",
          "AWS_ACCESS_KEY_ID": "test",
          "AWS_SECRET_ACCESS_KEY": "test",
          "AWS_DEFAULT_REGION": "us-east-1"
        }
      },
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": []
    }
  ]
}
